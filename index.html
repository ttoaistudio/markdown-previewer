<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Markdown Previewer (Local)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">Markdown Previewer (Local)</div>
    <div class="controls">
      <label class="btn">
        <input id="folderInput" type="file" webkitdirectory directory multiple hidden />
        📁 フォルダを選択
      </label>
      <label class="btn">
        <input id="fileInput" type="file" accept=".md,.markdown,text/markdown" multiple hidden />
        🗂️ ファイルを選択
      </label>
      <button id="exportHtmlBtn" class="btn">⤓ HTML書き出し</button>
      <button id="exportPdfBtn" class="btn">🖨️ PDF書き出し</button>
      <select id="themeSelect" class="select">
        <option value="github">GitHub</option>
        <option value="github-dark">GitHub Dark</option>
        <option value="solarized-light">Solarized Light</option>
        <option value="solarized-dark">Solarized Dark</option>
        <option value="monokai">Monokai</option>
        <option value="dracula">Dracula</option>
        <option value="custom">Custom…</option>
      </select>
      <button id="themeEditorBtn" class="btn">🎨 カスタムテーマ</button>
    </div>
  </header>

  <main class="layout" id="dropZone">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="hint">フォルダをドラッグ＆ドロップ、または選択</div>
        <div class="search-wrap">
          <input id="searchInput" type="search" placeholder="検索…" />
        </div>
      </div>
      <ul id="fileList" class="file-list"></ul>
    </aside>

    <section class="viewer">
      <div class="viewer-header">
        <div id="currentFile">(未選択)</div>
        <div class="zoom-controls">
          <button id="zoomOut" class="btn">−</button>
          <input id="zoomRange" type="range" min="50" max="200" value="100" />
          <button id="zoomIn" class="btn">＋</button>
          <span id="zoomLabel">100%</span>
        </div>
      </div>
      <div class="preview-wrap">
        <iframe id="previewFrame" class="preview-frame" title="Markdown Preview"></iframe>
      </div>
    </section>
  </main>

  <dialog id="themeDialog" class="theme-dialog">
    <form method="dialog">
      <h3>カスタムテーマ</h3>
      <p>以下のJSONを編集して保存できます。</p>
      <textarea id="themeJson" rows="14"></textarea>
      <div class="dialog-actions">
        <button value="cancel" class="btn">キャンセル</button>
        <button id="applyThemeBtn" value="default" class="btn primary">適用</button>
      </div>
    </form>
  </dialog>

  <template id="exportTemplate">
    <html>
    <head>
      <meta charset="utf-8" />
      <style id="exportStyle"></style>
    </head>
    <body>
      <article id="exportContent"></article>
    </body>
    </html>
  </template>

  <script src="app.js"></script>
</body>
</html>
